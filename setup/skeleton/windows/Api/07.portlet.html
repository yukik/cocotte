<h3>ポートレットとは</h3>
<p>
	ポートレットはよく使用するコンテンツをモジュール化した機能です。<br />
	<br />
	ここでは概要だけを説明します。より詳しい内容は<a data-winname='ApiPortlet'>Portlet API</a>を確認してください。<br />
	<br />
	またポートレット自体は必ずしもDatasourceを必要とはしませんが、
	ViewとDatasourceを連携する事もでき、少ないコードで高度なデータバインドを実現します。<br />
	ポートレットはウインドウ内でコンテンツを設定する際に指定することで使用します。<br />
	優れたポートレットは、開発者の負担を減らし保守の効率もあがるでしょう。<br />
	cocotteではいくつかの汎用的なポートレットを提供しています。
</p>

<h3>プリセットポートレットとカスタムポートレット</h3>

<p>
	cocotteでは開発者が新たに作成したポートレット（カスタムポートレット）とシステムが予め用意しているポートレット（プリセットポートレット）に区別はありません。<br />
	両方とも、portletsフォルダに配置します。そのため、ポートレットを作成し追加する事も、プリセットポートレットを改変する事も可能です
	追加されたポートレットはそのままでは表示される事はありません。
	作成したポートレットはウインドウのコンテンツで設定して使用してください。
	ここでは非常に単純なポートレットを作成することで説明します
</p>

<a data-winname='tutorialMap'>地図ポートレット</a>を開いてポートレットを確認

<p>
	地図をウインドウに表示する事が出来る事を確認しました。<br />
	ただ地図を表示するだけの簡単なポートレットです。設定項目はありません。<br />
	実際に地図ポートレットを実装の方法を以下に示します。<br />
	まず、portletsフォルダにMapフォルダを作成し、さらに次のファイルを作成してください<br />
</p>

<dl class="description">
	<dt>portlets/Map/index.js</dt>
	<dd>
	サーバサイドのポートレットの定義です。<br />
	今回はサーバサイドでは今回は特に設定する項目がないため、関数を定義するだけでかまいません
		<pre class='code'>
var helper = require('cocotte/portlet/helper');
var Portlet = function MapPortlet (options) {};
helper.inherit(Portlet);
module.exports = exports = Portlet;</pre>
	</dd>

	<dt>portlets/Map/client.js</dt>
	<dd>クライアントサイドのポートレットの定義です。<br />
		toHtmlメソッドによりコンテンツのDOMを設定する事ができます
		<pre class='code'>
var Portlet = function MapPortlet (options) {};
Portlet.prototype.address = '神奈川県横浜市';
Portlet.prototype.toHtml = function toHtml () {
    return '&#60;iframe src="https://maps.google.co.jp/maps?q='
         + this.address
         + '&#38;amp;z=14#38;amp;output=embed"&#62;&#60;/iframe&#62;';
};</pre>
</dd>

	<dt>portlets/Map/client.css</dt>
	<dd>クライアントサイドに配置されるスタイルシートです。<br />
		<pre class='code'>
portlet {
	top     : 1px;
	left    : 1px;
	right   : 1px;
	bottom  : 1px;
}</pre>
	</dd>
</dl>

<p>
	次にウインドウを作成してください。
	作成したウインドウの表示の方法は<a data-winname='ApiWindow'>Window API</a>で確認してください。
</p>
<dl class="description">
	<dt>windows/tutorialMap/index.js</dt>
	<dd>
		コンテンツにポートレットを設定します
		<pre class='code'>
var win = {
    title   : '地図 - ポートレットのチュートリアル'
  , contents: { portlet: 'Map' }
};
module.exports = exports = win;</pre>
	</dd>
</dl>

<p>
	今回は、実現する為にどのようなファイルが必要で、そのコードを簡単に確認しました。<br />
	このように、ポートレットはクライアントサイドのコードで表示を担当し、必要に応じてサーバサイドで
	データを加工したり、保持を行ったりする事が出来ます。<br />
	この短いコードの中にも、説明されていないルールが多数ありました。<br />
	しかし、ポートレットを作成する事がそれほど難しい事ではない事が感じていただけたと思います。<br />
	更にポートレットの作成に関して詳細を知る場合は、<a data-winname='ApiPortlet'>Portlet API</a>を確認してください
</p>


